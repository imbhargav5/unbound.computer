# ===========================================
# Server Configuration
# ===========================================
PORT=8080
HOST=0.0.0.0
NODE_ENV=development
LOG_LEVEL=debug

# ===========================================
# Supabase Configuration (Required)
# ===========================================
# Used for device authentication and session validation
SUPABASE_URL=http://localhost:54321
SUPABASE_SECRET_KEY=your-service-role-key-here

# Production:
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_SECRET_KEY=eyJhbGc...

# ===========================================
# Redis Configuration (Required for events)
# ===========================================
# Upstash Redis REST API (serverless-friendly)
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-redis-token-here

# ===========================================
# Connection Timeouts (milliseconds)
# ===========================================
HEARTBEAT_INTERVAL_MS=30000      # How often to expect heartbeats
CONNECTION_TIMEOUT_MS=90000       # When to close stale connections
AUTH_TIMEOUT_MS=10000             # Time to authenticate after connect

# ===========================================
# Event Streaming Configuration
# ===========================================
# How often to poll Redis streams (milliseconds)
STREAM_POLL_INTERVAL_MS=1000

# Maximum events to read per poll per stream
STREAM_BATCH_SIZE=100

# Maximum stream length per session (approximate)
STREAM_MAX_LEN=10000

# ===========================================
# APNs Configuration (Optional - for push notifications)
# ===========================================
# If not set, push notifications will be disabled
# APNS_KEY_ID=ABC123DEF4
# APNS_TEAM_ID=TEAM123456
# APNS_PRIVATE_KEY=base64-encoded-p8-key-content
# APNS_BUNDLE_ID=com.arni.unbound-ios
